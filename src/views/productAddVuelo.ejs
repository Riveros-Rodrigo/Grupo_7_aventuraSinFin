<!DOCTYPE html>
<html lang="en">
<%- include('./partials/head',{ title : 'Crear producto' }) %>

    <body style="
      min-height: 100vh;
      background-color: #f8f9fa;
      display: flex;
      flex-direction: column;
    ">
        <%- include('./partials/header') %>

            <main class="flex-grow-1 d-flex justify-content-center align-items-center" style="
        background-image: url('/images/jong-marshes-79mNMAvSORg-unsplash.jpg');
        background-size: cover;
        background-position: center;
      ">
                <!-- Contenedor del formulario -->
                <div class="container" style="margin-top: 20px; margin-bottom: 20px">
                    <div class="row">
                        <div class="col-md-12 col-lg-10 mx-auto">
                            <div class="card border rounded">
                                <div class="card-header bg-white d-flex justify-content-between">
                                    <a class="link-dark " href="/dashboard">Volver al dasboard</a>
                                    <h4 class="card-title">Agregar Vuelo</h4>

                                </div>
                                <div class="card-body">
                                    <form action="" method="POST" class="row">
                                        <div class="col-12 col-md-4">
                                            <img src="/images/despegue.png" alt="" class="img-fluid">
                                        </div>
                                        <div class="col-12 col-md-4">
                                            <!-- destino -->
                                            <div class="mb-3">
                                                <label for="destinity" class="form-label">Destino</label>
                                                <select
                                                    class="form-select <%= locals.errors && (errors.destinity && 'is-invalid') %>"
                                                    aria-label="Default select example" name="destinity" id="destinity">
                                                    <option selected hidden value="">Seleccione...</option>
                                                    <% destinities.forEach(destinity=> { %>
                                                        <option value="<%= destinity.id %>" <%=locals.old &&
                                                            (old.destinity==destinity.id && 'selected' )%> >
                                                            <%= destinity.name %>
                                                        </option>
                                                        <% }) %>
                                                </select>
                                                <small id="nameErrors" class="text-danger small">
                                                    <%= locals.errors && (errors.destinity && errors.destinity.msg) %>
                                                </small>
                                            </div>

                                            <!-- precio -->
                                            <div class="mb-3">
                                                <label for="price" class="form-label">Precio</label>
                                                <input type="number"
                                                    class="form-control <%= locals.errors ? (errors.price ? 'is-invalid' : 'is-valid') : '' %>"
                                                    id="productprice" name="price"
                                                    value="<%= locals.old && (old.price && old.price) %>" />
                                                <small id="priceErrors" class="text-danger small">
                                                    <%= locals.errors && (errors.price && errors.price.msg) %>
                                                </small>
                                            </div>
                                            <!-- aerolinea -->
                                            <div class="mb-2">
                                                <label for="airline" class="form-label">Aerol√≠nea</label>
                                                <select
                                                    class="form-select <%= locals.errors && (errors.airline && 'is-invalid') %>"
                                                    aria-label="Default select example" name="airline" id="airline">
                                                    <option selected hidden value="">Seleccione...</option>
                                                    <% airlines.forEach(airline=> { %>
                                                        <option value="<%= airline.id %>" <%=locals.old &&
                                                            (old.airline==airline.id && 'selected' )%> >
                                                            <%= airline.name %>
                                                        </option>
                                                        <% }) %>
                                                </select>
                                                <small id="nameErrors" class="text-danger small">
                                                    <%= locals.errors && (errors.airline && errors.airline.msg) %>
                                                </small>
                                            </div>
                                        </div>
                                        <div class="col-12 col-md-4">
                                            <!-- fecha -->
                                            <div class="mb-3">
                                                <label for="date" class="form-label">Fecha</label>
                                                <input type="date"
                                                    class="form-control <%= locals.errors ? (errors.date ? 'is-invalid' : 'is-valid') : '' %>"
                                                    id="productdate" name="date"
                                                    value="<%= locals.old && (old.date && old.date) %>" />
                                                <small id="dateErrors" class="text-danger small">
                                                    <%= locals.errors && (errors.date && errors.date.msg) %>
                                                </small>
                                            </div>
                                            <!-- partida -->
                                            <div class="mb-3 ">
                                                <label for="departure" class="form-label">Horario de partida</label>
                                                <input type="time"
                                                    class="form-control <%= locals.errors ? (errors.departure ? 'is-invalid' : 'is-valid') : '' %>"
                                                    id="productdeparture" name="departure"
                                                    value="<%= locals.old && (old.departure && old.departure) %>" />
                                                <small id="departureErrors" class="text-danger small">
                                                    <%= locals.errors && (errors.departure && errors.departure.msg) %>
                                                </small>
                                            </div>
                                            <!-- arribo -->
                                            <div class="mb-3 ">
                                                <label for="arrival" class="form-label">Horario de llegada</label>
                                                <input type="time"
                                                    class="form-control <%= locals.errors ? (errors.arrival ? 'is-invalid' : 'is-valid') : '' %>"
                                                    id="productarrival" name="arrival"
                                                    value="<%= locals.old && (old.arrival && old.arrival) %>" />
                                                <small id="arrivalErrors" class="text-danger small">
                                                    <%= locals.errors && (errors.arrival && errors.arrival.msg) %>
                                                </small>
                                            </div>
                                        </div>
                                        <div class="d-flex justify-content-end align-items-center mb-3">
                                            <button class="btn btn-dark" type="submit">
                                                Guardar
                                            </button>
                                        </div>
                                </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
                </div>
            </main>

            <%- include('partials/footer') %>
                <script>
                    const onImagePrev = ({ target }) => {
                        const url = URL.createObjectURL(target.files[0])
                        document.getElementById('img-prev').setAttribute('src', url)
                    }
                </script>
                <!-- <script src="/javascripts/validations/validationProductAdd.js"></script> -->
    </body>

</html>